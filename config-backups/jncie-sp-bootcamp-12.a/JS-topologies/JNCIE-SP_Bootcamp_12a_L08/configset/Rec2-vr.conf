## Last changed: 2011-08-01 04:27:58 UTC
version 10.3D0;
system {
    host-name vrdevice;
    root-authentication {
        encrypted-password "$1$eASEA2cq$c1TkoxgDnKV6auHCSLNoa."; ## SECRET-DATA
    }
    scripts {
        op {
            file multiping.slax;
        }
    }
    login {
        user lab {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$1$5ZrlA.cy$VzizTe7qjSEp9NT18ujTu."; ## SECRET-DATA
            }
        }
        user regress {
            uid 928;
            class super-user;
            shell csh;
            authentication {
                encrypted-password "$1$qHvYyz/L$APuGxYN3RusfJzAuN/IaS0"; ## SECRET-DATA
            }
        }
    }
    services {
        ftp;
        ssh;
        telnet;
    }
    syslog {
        file messages {
            any any;
        }
    }
}
interfaces {
    ge-0/0/1 {
        description "Source1 to R1";
        unit 0 {
            family inet {
                address 172.27.0.30/30;
            }
        }
    }
    ge-0/0/3 {
        description "Source2 to R2";
        unit 0 {
            family inet {
                address 172.27.0.38/30;
            }
        }
    }
    ge-0/0/9 {
        description "Receiver2 to R5";
        unit 0 {
            family inet {
                address 172.27.1.2/24;
            }
        }
    }
}
event-options {
    generate-event {
        every_minute time-interval 60;
    }
    policy ping {
        events every_minute;
        then {
            event-script multiping.slax {
                arguments {
                    remote-host 224.1.1.1;
                    ttl 10;
                    interface ge-0/0/1.0;
                    routing-instance Source1;
                    source 172.27.0.30;
                }
            }
        }
    }
    policy ping-2 {
        events every_minute;
        then {
            event-script multiping.slax {
                arguments {
                    remote-host 224.3.3.3;
                    ttl 10;
                    interface ge-0/0/1.0;
                    routing-instance Source1;
                    source 172.27.0.30;
                }
            }
        }
    }
    policy ping-3 {
        events every_minute;
        then {
            event-script multiping.slax {
                arguments {
                    remote-host 224.2.2.2;
                    ttl 10;
                    interface ge-0/0/3.0;
                    routing-instance Source2;
                    source 172.27.0.38;
                }
            }
        }
    }
}
routing-options {
    static {
        route 172.27.0.0/16 next-hop 172.27.1.1;
    }
}
protocols {
    sap {
        listen 224.2.2.2;
    }
    pim {
        export block-sap-default;
        rp {
            static {
                address 172.27.255.11;
            }
        }
        interface ge-0/0/9.0;
    }
}
policy-options {
    policy-statement block-sap-default {
        term 1 {
            from {
                route-filter 224.2.127.254/32 exact;
            }
            then reject;
        }
        term 2 {
            then accept;
        }
    }
}
security {
    forwarding-options {
        family {
            inet6 {
                mode packet-based;
            }
            mpls {
                mode packet-based;
            }
            iso {
                mode packet-based;
            }
        }
    }
}
routing-instances {
    Source1 {
        instance-type virtual-router;
        interface ge-0/0/1.0;
        routing-options {
            static {
                route 172.27.0.0/16 next-hop 172.27.0.29;
            }
        }
    }
    Source2 {
        instance-type virtual-router;
        interface ge-0/0/3.0;
        routing-options {
            static {
                route 172.27.0.0/16 next-hop 172.27.0.37;
            }
        }
    }
}

