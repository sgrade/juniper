set version 17.1R1.8
set system host-name vr-device
set system root-authentication encrypted-password "$6$FIpR4JIe$rIthRAcbyxBAyuMSm9lx/WXlL9FEf912HDVJI.aCdXomzNN67/muxqE4mgDk9YWhzKYcwuVr67FOY6rX9KeQr1"
set system login user roman uid 2000
set system login user roman class super-user
set system login user roman authentication encrypted-password "$6$d711pJaq$WaF6OJJbme6OKv1PuE9NaoySlsgS/Vr6eXLUqFQm9qZFDqPnwAJ0ejiyAHExTsT.yvELpK3Z0jP/2ORnHljh0."
set system login user roman authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAzIBP7+bkQPpmmE1UABvoQyfMuTj2b3PGncfr41s6TPz1pdn0oaqMB34qDEEimP8TBGilpMFZoJVFx7bhJWQq1ua8KKwoxnk9jjdamZi9uGho+vn2TBgnuf2un2XV0wUJp3wfVJSsHR4oYaDIlAG3t5HpJMi8mhNBotk7e4sO+1afw6/4hbufxCZLAMpVczoJrkVGGDv/Ju7AwgVp5g1psOTkoe8W+OXpXv/liBN9pZMw9wefyjPLfaNXbdgiuNFJOhRFZ58rRppkJo0r+vzG0Bi2jc7QbOoGY/OX/OfZBMgRHNBegteWojF4OYGlGpM21mPo7L4GLR+4pl265zM4ww== rsa-key-20160811"
set system login user roman authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDr1VWi2Gh+E3KOq6VCCchhc9SNnCLp23Orsk9soAtZG54BRHJdAVm4X8sAqlz/3EChHovO/5SRxhcza3cqtJjQVdGjcvLSpTX/EOchCxeATTnxqjtsKpCJ5za7gOxvQjhEnrKecInvg3IzpXpONux20VKTXUzn5nRBaR9mfV7BBwEJuU8U4Ci1QwUBlVTkVQ1Yq37zDhfWKWdhFBE4HBDcTPFk+QQtdbEnOY1dyK3wC91cYum2gZAJ/Q9pUGKNqTIxbf02IZTqVmoB43sd51uNXgyrf6V6fwXzP2Fa6vebS8IIFV0sZxqT8PT8Mk2r9ByaTeYifUB8KI5uvmoiYeMGfS5TaV858JrbN/TMRZp9xLSZuhYe9ZSHF2RcvBEbdgbRAaIoN//w5pt/H8vK0OSx4t/J8hcqsJcRXOmBjc5NPLEPyPZiuqwr8/ph3zXivzSVkQgfaFwtK2uYC0s7S8wK+Ar4Z//Ak8ZM8mzn3lhfdaZvhw2UoB0vO2GkQLFvvQqeqFLZKEP6GiCszfTQ6GnLEUGVj9T3ERPcx3rHN7w+NPV3/fmDSPgYrZqJMx/nkOSLbQvgQyzCljXz//8xdBgxi0LqjwRat8jbmCm/UnBCIPjwXSauDCr6DiiT/gqfTkBRR+UMRtFqoZ0CTcJPVZds2KRI1la/OU47ZjPes9Vqw== romankmail@gmail.com"
set system login user roman authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDjh3aaDB5ennNgeRCgaCj+xclzWG2Vwh73RumrruTAJXA15Zo77PorKMW/eZRIpvdSeSqFr85ZrqWObhMldPfeQ0IYXOC8tHDT4uiBm2ITsKwOvSQb9B3Q0ycac/+fE75fHmrYm82b2fRa6UYjGnbJhRaigiDV0lZABAmqwtsjPPUZCzlKubf7gIfhgAVJQYEON3JpRRiQtXEnumby5YHSP01cMmRZzHmAY3nul4rchueZ2pvFDHYEl/IQlGWrZnO/LO12ujFcX+oadwLFRKZv9W9xEBzGV9+zyroHVcZ7GaNV+Uk/4c3MJr64i77zdLt3GYC6qrLm1g5n7D9Kwd09 roman@desktop2"
set system services ssh
set system services netconf ssh
set system syslog user * any emergency
set system syslog file messages any notice
set system syslog file messages authorization info
set system syslog file interactive-commands interactive-commands any
set system archival configuration transfer-on-commit
set system archival configuration archive-sites "ftp://roman:ubuntu@10.128.108.108/juniper/config-backups"
set logical-systems P1 interfaces lt-0/0/0 unit 104 encapsulation ethernet
set logical-systems P1 interfaces lt-0/0/0 unit 104 peer-unit 109
set logical-systems P1 interfaces lt-0/0/0 unit 104 family inet address 172.22.252.1/24
set logical-systems P1 interfaces ge-0/0/1 unit 0 description "to vMX3"
set logical-systems P1 interfaces ge-0/0/1 unit 0 family inet address 172.22.121.2/24
set logical-systems P1 interfaces ge-0/0/4 unit 0 description "to vMX5"
set logical-systems P1 interfaces ge-0/0/4 unit 0 family inet address 172.22.122.2/24
set logical-systems P1 interfaces lo0 unit 1 family inet address 172.31.100.1/32
set logical-systems P1 protocols bgp local-as 65412
set logical-systems P1 protocols bgp group mxA-1 type external
set logical-systems P1 protocols bgp group mxA-1 export redistribute-static
set logical-systems P1 protocols bgp group mxA-1 peer-as 65001
set logical-systems P1 protocols bgp group mxA-1 neighbor 172.22.121.1
set logical-systems P1 protocols bgp group mxA-2 type external
set logical-systems P1 protocols bgp group mxA-2 export redistribute-static
set logical-systems P1 protocols bgp group mxA-2 peer-as 65002
set logical-systems P1 protocols bgp group mxA-2 neighbor 172.22.122.1
set logical-systems P1 protocols bgp group P2 type internal
set logical-systems P1 protocols bgp group P2 multihop
set logical-systems P1 protocols bgp group P2 local-address 172.31.100.1
set logical-systems P1 protocols bgp group P2 neighbor 172.31.101.1
set logical-systems P1 protocols ospf area 0.0.0.0 interface lo0.1
set logical-systems P1 protocols ospf area 0.0.0.0 interface lt-0/0/0.104
set logical-systems P1 policy-options policy-statement redistribute-static term 1 from protocol static
set logical-systems P1 policy-options policy-statement redistribute-static term 1 then accept
set logical-systems P1 routing-options static route 30.30.0.0/24 reject
set logical-systems P1 routing-options static route 30.30.1.0/24 reject
set logical-systems P1 routing-options static route 30.30.2.0/24 reject
set logical-systems P1 routing-options static route 30.30.3.0/24 reject
set logical-systems P2 interfaces lt-0/0/0 unit 109 encapsulation ethernet
set logical-systems P2 interfaces lt-0/0/0 unit 109 peer-unit 104
set logical-systems P2 interfaces lt-0/0/0 unit 109 family inet address 172.22.252.2/24
set logical-systems P2 interfaces ge-0/0/2 unit 0 description "to vMX3"
set logical-systems P2 interfaces ge-0/0/2 unit 0 family inet address 172.22.123.2/24
set logical-systems P2 interfaces ge-0/0/5 unit 0 description "to vMX5"
set logical-systems P2 interfaces ge-0/0/5 unit 0 family inet address 172.22.124.2/24
set logical-systems P2 interfaces lo0 unit 2 family inet address 172.31.101.1/32
set logical-systems P2 protocols bgp local-as 65412
set logical-systems P2 protocols bgp group mxA-1 type external
set logical-systems P2 protocols bgp group mxA-1 export redistribute-static
set logical-systems P2 protocols bgp group mxA-1 peer-as 65001
set logical-systems P2 protocols bgp group mxA-1 neighbor 172.22.123.1
set logical-systems P2 protocols bgp group mxA-2 type external
set logical-systems P2 protocols bgp group mxA-2 export redistribute-static
set logical-systems P2 protocols bgp group mxA-2 peer-as 65002
set logical-systems P2 protocols bgp group mxA-2 neighbor 172.22.124.1
set logical-systems P2 protocols bgp group P1 type internal
set logical-systems P2 protocols bgp group P1 multihop
set logical-systems P2 protocols bgp group P1 local-address 172.31.101.1
set logical-systems P2 protocols bgp group P1 neighbor 172.31.100.1
set logical-systems P2 protocols ospf area 0.0.0.0 interface lo0.2
set logical-systems P2 protocols ospf area 0.0.0.0 interface lt-0/0/0.109
set logical-systems P2 policy-options policy-statement redistribute-static term 1 from protocol static
set logical-systems P2 policy-options policy-statement redistribute-static term 1 then accept
set logical-systems P2 routing-options static route 30.30.0.0/24 reject
set logical-systems P2 routing-options static route 30.30.1.0/24 reject
set logical-systems P2 routing-options static route 30.30.2.0/24 reject
set logical-systems P2 routing-options static route 30.30.3.0/24 reject
set logical-systems P2 routing-options static route 172.16.1.2/32 next-hop 172.22.125.1
set logical-systems P2 routing-options static route 172.16.1.2/32 no-readvertise
set logical-systems P3 interfaces ge-0/0/3 unit 0 description "to R3-1"
set logical-systems P3 interfaces ge-0/0/3 unit 0 family inet address 172.22.125.2/24
set logical-systems P3 interfaces ge-0/0/6 unit 0 description "to R3-2"
set logical-systems P3 interfaces ge-0/0/6 unit 0 family inet address 172.22.126.2/24
set logical-systems P3 interfaces lo0 unit 3 family inet address 172.31.102.1/32
set logical-systems P3 protocols bgp group R3-1 type external
set logical-systems P3 protocols bgp group R3-1 multihop
set logical-systems P3 protocols bgp group R3-1 local-address 172.31.102.1
set logical-systems P3 protocols bgp group R3-1 export redistribute-static
set logical-systems P3 protocols bgp group R3-1 peer-as 65001
set logical-systems P3 protocols bgp group R3-1 local-as 65020
set logical-systems P3 protocols bgp group R3-1 neighbor 172.16.1.2
set logical-systems P3 protocols bgp group R3-2 type external
set logical-systems P3 protocols bgp group R3-2 multihop
set logical-systems P3 protocols bgp group R3-2 local-address 172.31.102.1
set logical-systems P3 protocols bgp group R3-2 export redistribute-static
set logical-systems P3 protocols bgp group R3-2 peer-as 65002
set logical-systems P3 protocols bgp group R3-2 local-as 65020
set logical-systems P3 protocols bgp group R3-2 neighbor 172.16.2.2
set logical-systems P3 policy-options policy-statement redistribute-static term 1 from protocol static
set logical-systems P3 policy-options policy-statement redistribute-static term 1 then accept
set logical-systems P3 routing-options static route 172.16.1.2/32 next-hop 172.22.125.1
set logical-systems P3 routing-options static route 172.16.1.2/32 no-readvertise
set logical-systems P3 routing-options static route 40.40.0.0/24 reject
set logical-systems P3 routing-options static route 40.40.1.0/24 reject
set logical-systems P3 routing-options static route 40.40.2.0/24 reject
set logical-systems P3 routing-options static route 40.40.3.0/24 reject
set logical-systems P3 routing-options static route 172.16.2.2/32 next-hop 172.22.126.1
set logical-systems P3 routing-options static route 172.16.2.2/32 no-readvertise
set chassis fpc 0 pic 0 tunnel-services
set interfaces fxp0 unit 0 family inet address 10.128.108.107/27
set routing-options static route 10.128.8.0/22 next-hop 10.128.108.97
set routing-options static route 10.128.8.0/22 retain
set routing-options static route 10.128.8.0/22 no-readvertise
set routing-options static route 10.128.4.0/22 next-hop 10.128.108.97
set routing-options static route 10.128.4.0/22 retain
set routing-options static route 10.128.4.0/22 no-readvertise
set routing-options static route 10.190.4.0/22 next-hop 10.128.108.97
set routing-options static route 10.190.4.0/22 retain
set routing-options static route 10.190.4.0/22 no-readvertise
set routing-options static route 10.188.4.0/23 next-hop 10.128.108.97
set routing-options static route 10.188.4.0/23 retain
set routing-options static route 10.188.4.0/23 no-readvertise
set routing-options static route 10.188.14.0/23 next-hop 10.128.108.97
set routing-options static route 10.188.14.0/23 retain
set routing-options static route 10.188.14.0/23 no-readvertise
set routing-options static route 10.188.6.0/24 next-hop 10.128.108.97
set routing-options static route 10.188.6.0/24 retain
set routing-options static route 10.188.6.0/24 no-readvertise
